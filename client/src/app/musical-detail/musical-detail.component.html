<div class="card-container">
  <mat-card class="musical-detail-card">
    <nav class="musical-card-nav-top">
      <button mat-icon-button color="primary" aria-label="Back arrow icon" [routerLink]="['/', 'musicals']">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <div>
        <button mat-icon-button color="primary" aria-label="Delete icon" (click)="editMusical()">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="primary" aria-label="Delete icon" (click)="deleteMusical()">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </nav>
    <mat-card-header>
      <mat-card-title>{{musical.name}}</mat-card-title>
    </mat-card-header>
    <div class='musical-detail-card-body'>
      <img mat-card-image src={{musical.albumCover}} alt="album cover art for musical"/>  
      <mat-card-content class="details">
        <p><b>Location:</b> {{musical.location}}</p>
        <p><b>Open Date:</b> {{musical.openDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) }}</p>
        <p><b>Close Date:</b> {{(musical.closeDate)?musical.closeDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) :("Ongoing")}}</p>
        <iframe style="border-radius:12px" [src]="getSafeUrl('https://open.spotify.com/embed/album/'+musical.spotifyAlbum+'?utm_source=generator')" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </mat-card-content>
    </div>
  </mat-card>
</div>
